{"version":3,"sources":["lib/api.js","img/santa.png","App.js","registerServiceWorker.js","index.js"],"names":["Api","route","this","xhr","params","verb","url","options","Object","assign","method","body","JSON","stringify","headers","fetch","then","resp","json","ok","err","results","App","props","componentDidMount","flakes","canvas","refs","ctx","getContext","mX","mY","width","window","innerWidth","height","innerHeight","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","snow","clearRect","i","flake","x","y","x2","y2","dist","Math","sqrt","xcomp","ycomp","deltaV","velX","velY","speed","cos","step","stepSize","fillStyle","opacity","reset","beginPath","arc","size","PI","fill","floor","random","addEventListener","e","clientX","clientY","push","init","popRoute","newStack","state","navigationStack","filter","_","length","logoStyle","_id","setState","onUserChanged","name","email","user","isValid","isEmailValid","test","onClickButton","action","includes","createGroup","joinGroup","create","groupName","console","log","put","result","searchGroups","text","join","search","post","groups","setGroupToJoin","id_selected","blobStyle","currentView","className","ref","id","onClick","bind","style","src","logo","alt","type","placeholder","value","onChange","evt","target","map","group","Component","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","ReactDOM","render","document","getElementById","URL","process","origin","response","status","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.ff31f0f8.chunk.js","sourcesContent":["class Api {\n  static headers() {\n    return {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n    }\n  }\n\n  static get(route) {\n    return this.xhr(route, null, 'GET');\n  }\n\n  static put(route, params) {\n    return this.xhr(route, params, 'PUT')\n  }\n\n  static post(route, params) {\n    return this.xhr(route, params, 'POST')\n  }\n\n  static delete(route, params) {\n    return this.xhr(route, params, 'DELETE')\n  }\n\n  static xhr(route, params, verb) {\n    const domain = 'fedutia.fr/secret-santa'\n    const url = `https://${domain}${route}`\n    let options = Object.assign({ method: verb }, params ? { body: JSON.stringify(params) } : null );\n    options.headers = Api.headers()\n    return fetch(url, options).then( resp => {\n      let json = resp.json();\n      if (resp.ok) {\n        return json\n      }\n      return json.then(err => {throw err})\n    }).then( json => json.results);\n  }\n}\nexport default Api\n","export default __webpack_public_path__ + \"static/media/santa.91c6d0ee.png\";","import React, { Component } from 'react'\nimport './App.css'\n\nimport Api from './lib/api'\n\nimport logo from './img/santa.png'\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            user: {\n                name: '',\n                email: '',\n                isValid: false,\n            },\n            logoStyle: {\n                width: '200px',\n            },\n            blobStyle: {\n                width: window.width,\n                height: window.height,\n            },\n            navigationStack: [{\n                _id: 'MENU'\n            }],\n            create: '',\n            join: {\n                search: '',\n                results: [],\n                id_selected: null,\n            }\n        }\n    }\n\n    componentDidMount = () => {\n        var flakes = [],\n            canvas = this.refs.canvas,\n            ctx = canvas.getContext(\"2d\"),\n            flakeCount = 400,\n            mX = -100,\n            mY = -100\n\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n\n        var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame ||\n            function(callback) {\n                window.setTimeout(callback, 1000 / 60);\n            }\n        window.requestAnimationFrame = requestAnimationFrame;\n\n        function snow() {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n            for (var i = 0; i < flakeCount; i++) {\n                var flake = flakes[i],\n                    x = mX,\n                    y = mY,\n                    minDist = 150,\n                    x2 = flake.x,\n                    y2 = flake.y;\n\n                var dist = Math.sqrt((x2 - x) * (x2 - x) + (y2 - y) * (y2 - y)),\n                    dx = x2 - x,\n                    dy = y2 - y;\n\n                if (dist < minDist) {\n                    var force = minDist / (dist * dist),\n                        xcomp = (x - x2) / dist,\n                        ycomp = (y - y2) / dist,\n                        deltaV = force / 2;\n\n                    flake.velX -= deltaV * xcomp;\n                    flake.velY -= deltaV * ycomp;\n\n                } else {\n                    flake.velX *= .98;\n                    if (flake.velY <= flake.speed) {\n                        flake.velY = flake.speed\n                    }\n                    flake.velX += Math.cos(flake.step += .05) * flake.stepSize;\n                }\n\n                ctx.fillStyle = \"rgba(255,255,255,\" + flake.opacity + \")\";\n                flake.y += flake.velY;\n                flake.x += flake.velX;\n\n                if (flake.y >= canvas.height || flake.y <= 0) {\n                    reset(flake);\n                }\n\n\n                if (flake.x >= canvas.width || flake.x <= 0) {\n                    reset(flake);\n                }\n\n                ctx.beginPath();\n                ctx.arc(flake.x, flake.y, flake.size, 0, Math.PI * 2);\n                ctx.fill();\n            }\n            requestAnimationFrame(snow);\n        };\n\n        function reset(flake) {\n            flake.x = Math.floor(Math.random() * canvas.width);\n            flake.y = 0;\n            flake.size = (Math.random() * 3) + 2;\n            flake.speed = (Math.random() * 1) + 0.5;\n            flake.velY = flake.speed;\n            flake.velX = 0;\n            flake.opacity = (Math.random() * 0.5) + 0.3;\n        }\n\n        function init() {\n            for (var i = 0; i < flakeCount; i++) {\n                var x = Math.floor(Math.random() * canvas.width),\n                    y = Math.floor(Math.random() * canvas.height),\n                    size = (Math.random() * 3) + 2,\n                    speed = (Math.random() * 1) + 0.5,\n                    opacity = (Math.random() * 0.5) + 0.3;\n\n                flakes.push({\n                    speed: speed,\n                    velY: speed,\n                    velX: 0,\n                    x: x,\n                    y: y,\n                    size: size,\n                    stepSize: (Math.random()) / 30,\n                    step: 0,\n                    opacity: opacity\n                });\n            }\n\n            snow();\n        };\n\n        canvas.addEventListener(\"mousemove\", function(e) {\n            mX = e.clientX,\n                mY = e.clientY\n        });\n\n        window.addEventListener(\"resize\",function(){\n            canvas.width = window.innerWidth;\n            canvas.height = window.innerHeight;\n        })\n\n        init()\n\n    }\n\n    popRoute = () => {\n        const newStack = this.state.navigationStack.filter((_,i) => i !== this.state.navigationStack.length -1),\n            logoStyle = newStack[newStack.length-1]._id === 'MENU' ? {\n                width: '200px',\n            } : {\n                width: '100px',\n            }\n\n        this.setState({\n            navigationStack: newStack,\n            logoStyle\n        })\n    }\n\n    onUserChanged = (name,email) => {\n        this.setState({user: {\n            name: name,\n            email: email,\n            isValid: this.isEmailValid(email) && name.length\n        }})\n    }\n\n    isEmailValid = email => {\n        let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n        return re.test(email)\n    }\n\n    onClickButton = (action) => {\n        if (action === 'BACK') this.popRoute()\n        else {\n            this.setState({\n                logoStyle: {\n                    width: action.includes('SEND') ? '200px' : '100px',\n                },\n                navigationStack: [\n                    ...this.state.navigationStack,\n                    {\n                        _id: action\n                    }\n                ]\n            })\n            if (action === 'SEND_CREATE') this.createGroup()\n            if (action === 'SEND_JOIN') this.joinGroup()\n        }\n    }\n\n    createGroup = () => {\n        if (this.state.create) {\n            const params = {\n                groupName: this.state.create,\n                name: this.state.user.name,\n                email: this.state.user.email,\n            }\n            console.log(params)\n            Api.put('/pending-group', params)\n                .then(result => console.log(result))\n        }\n    }\n\n    searchGroups = text => {\n        if (text === '') this.setState({join: {search: '', results: []}})\n        else {\n            this.setState({join: {...this.state.join, search: text}})\n            const params = {\n                email: this.state.user.email,\n                text: text\n            }\n            console.log(params)\n            Api.post('/group', params)\n                .then(groups => this.setState({join: {...this.state.join, results: groups}}))\n        }\n    }\n\n    setGroupToJoin = _id => this.setState({\n        join: {\n            ...this.state.join,\n            id_selected: _id\n        }\n    })\n\n    joinGroup = () => {\n        if (this.state.join.id_selected) {\n            const params = {\n                _id: this.state.join.id_selected,\n                name: this.state.user.name,\n                email: this.state.user.email,\n            }\n            console.log(params)\n            Api.post('/join', params)\n                .then(result => console.log(result))\n        }\n    }\n\n    render() {\n        console.log(this.state)\n        const currentView = this.state.navigationStack[this.state.navigationStack.length-1]\n        return (\n            <div className=\"App\">\n                <canvas ref=\"canvas\" id=\"canvas\" />\n                <div className=\"blob\">\n                    {this.state.navigationStack.length > 1 && !currentView._id.includes('SEND') ? (\n                        <button onClick={this.onClickButton.bind(this,'BACK')} className=\"backButton\">&larr;</button>\n                    ) : null}\n                    <img style={this.state.logoStyle} src={logo} alt=\"santa\" className=\"logo\" />\n                    {currentView._id === 'MENU' ? (\n                        <div>\n                            <h1>Secret 9Santa</h1>\n                            <input\n                                type=\"text\"\n                                className=\"textInput\"\n                                placeholder=\"Your name\"\n                                value={this.state.user.name}\n                                onChange={evt => this.onUserChanged(evt.target.value,this.state.user.email)}\n                            />\n                            <input\n                                type=\"text\"\n                                className=\"textInput\"\n                                placeholder=\"Your email\"\n                                value={this.state.user.email}\n                                onChange={evt => this.onUserChanged(this.state.user.name,evt.target.value)}\n                            />\n                            {this.state.user.isValid ? (\n                                <div className=\"containerButtons\">\n                                    <button onClick={this.onClickButton.bind(this,'CREATE')}>Create</button>\n                                    <div />\n                                    <button onClick={this.onClickButton.bind(this,'JOIN')}>Join</button>\n                                </div>\n                            ) : <div />}\n                        </div>\n                    ) : currentView._id === 'CREATE' ? (\n                        <div>\n                            <h1>Create a group</h1>\n                            <input\n                                type=\"text\"\n                                className=\"textInput\"\n                                placeholder=\"Group name\"\n                                value={this.state.create}\n                                onChange={evt => this.setState({create: evt.target.value})}\n                            />\n                            {this.state.create.length > 1 ? <button onClick={this.onClickButton.bind(this,'SEND_CREATE','200px')}>Create</button> : null}\n                        </div>\n                    ) : currentView._id === 'JOIN' ? (\n                        <div>\n                            <h1>Join a group</h1>\n                            <input\n                                type=\"text\"\n                                className=\"textInput\"\n                                placeholder=\"Group name\"\n                                value={this.state.join.search}\n                                onChange={evt => this.searchGroups(evt.target.value)}\n                            />\n                            {this.state.join.results.length ? (\n                                <div className=\"searchContainer\">\n                                    {this.state.join.results.map((group,i) => (\n                                        <div onClick={this.setGroupToJoin.bind(this,group._id)}\n                                             className={this.state.join.id_selected === group._id ? 'groupToJoin active' : 'groupToJoin'}\n                                             key={i} >\n                                            {group.name}\n                                        </div>\n                                    ))}\n                                </div>\n                            ) : null}\n                            {this.state.join.id_selected ? <button onClick={this.onClickButton.bind(this,'SEND_JOIN','200px')}>Join</button> : null}\n                        </div>\n                    ) : currentView._id.includes('SEND') ? <h2>3Check your emails 3</h2>\n                    : <div />}\n                </div>\n            </div>\n\n        )\n    }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}